{
    "componentChunkName": "component---src-templates-work-detail-js",
    "path": "/en/interests/mongodb",
    "result": {"data":{"mdx":{"frontmatter":{"title":"MongoDB","slug":"mongodb","excerpt":"Mongodb usually comes with nodejs. As schema less database, it's very convenient and fast data repository to develop unstructured contents.","github":null,"npmorg":null,"demo":"http://imcmaster.iptime.org:7000","videoSourceURL":null,"videoTitle":null,"featureImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,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"},"images":{"fallback":{"src":"/static/591197e1a119b4a36f3c3fb6f5a40af4/966b7/mongodb_logo.png","srcSet":"/static/591197e1a119b4a36f3c3fb6f5a40af4/b4d87/mongodb_logo.png 75w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/f210d/mongodb_logo.png 150w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/966b7/mongodb_logo.png 300w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/af59d/mongodb_logo.png 600w","sizes":"(min-width: 300px) 300px, 100vw"},"sources":[{"srcSet":"/static/591197e1a119b4a36f3c3fb6f5a40af4/80a96/mongodb_logo.avif 75w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/f17bb/mongodb_logo.avif 150w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/c5581/mongodb_logo.avif 300w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/642e0/mongodb_logo.avif 600w","type":"image/avif","sizes":"(min-width: 300px) 300px, 100vw"},{"srcSet":"/static/591197e1a119b4a36f3c3fb6f5a40af4/af153/mongodb_logo.webp 75w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/fb629/mongodb_logo.webp 150w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/f2e5e/mongodb_logo.webp 300w,\n/static/591197e1a119b4a36f3c3fb6f5a40af4/1d14c/mongodb_logo.webp 600w","type":"image/webp","sizes":"(min-width: 300px) 300px, 100vw"}]},"width":300,"height":89}}},"embeddedImagesRemote":null},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"MongoDB\",\n  \"slug\": \"mongodb\",\n  \"seq\": 1,\n  \"type\": \"interest\",\n  \"language\": \"en\",\n  \"featureImage\": \"../images/interest/mongodb_logo.png\",\n  \"thumb\": \"../images/interest/mongodb_logo.png\",\n  \"github\": null,\n  \"demo\": \"http://imcmaster.iptime.org:7000\",\n  \"videoSourceURL\": null,\n  \"videoTitle\": null,\n  \"excerpt\": \"Mongodb usually comes with nodejs. As schema less database, it's very convenient and fast data repository to develop unstructured contents.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"When you use MongoDB with nodejs express, usually devide it with three modules, i.e. Model,Router,Controller. This is example code for typical CRUD development.\"), mdx(\"br\", null), mdx(\"h3\", null, \"Model\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var mongoose = require(\\\"mongoose\\\")\\nconst Schema = mongoose.Schema\\nconst models = {}\\n\\nconst allpurposeSchema = new Schema({\\n  title: String,\\n  desc: String,\\n  formid: String,\\n  data: Schema.Types.Mixed,\\n  author: Schema.Types.Mixed,\\n})\\n\\nmodels.Allpurpose = mongoose.model(\\\"Allpurpose\\\", allpurposeSchema)\\n\\nmodule.exports = models\\n\")), mdx(\"h3\", null, \"Router\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"const crud = require(\\\"../controllers/reuseCRUD\\\");//controller\\n//route index\\uC5D0\\uC11C express \\uC804\\uC1A1(app)\\nmodule.exports = (app) => {\\n  const model = require(\\\"../models/model\\\");\\n  app.use(\\\"/allpurpose\\\", crud(model.Control));\\n\")), mdx(\"h3\", null, \"Controller\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var mongoose = require(\\\"mongoose\\\");\\nconst Schema = mongoose.Schema;\\nconst models = {};\\n\\nconst allpurposeSchema = new Schema({\\n  title: String,\\n  desc: String,\\n  formid: String,\\n  data: Schema.Types.Mixed,\\n  author: Schema.Types.Mixed,\\n});\\n\\nmodels.Allpurpose = mongoose.model(\\\"Allpurpose\\\", allpurposeSchema);\\n\\nmodule.exports = models;\\n\\n$$$$$|javascript|controller|\\uC7AC\\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD55C CRUD\\uB85C \\uBAA8\\uB4E0 \\uBAA8\\uB378\\uC5D0\\uC11C \\uACF5\\uD1B5\\uC0AC\\uC6A9\\n\\uBAA8\\uB4E0 \\uBAA8\\uB378\\uC744 \\uD55C\\uACF3\\uC5D0\\uC11C \\uCC98\\uB9AC\\uD568\\n ./model/models.js /router/reuseCRUD.js\\uC5D0\\uC11C \\uC811\\uADFC\\uCC98\\uB9AC\\nconst express = require(\\\"express\\\");\\n\\nmodule.exports = (Collection) => {\\n  // ======\\n  // Create\\n  // ======\\n\\n  const create = (req, res) => {\\n    const newEntry = req.body;\\n    Collection.create(newEntry, (e, newEntry) => {\\n      if (e) {\\n        console.log(e);\\n        res.sendStatus(500);\\n      } else {\\n        res.send(newEntry);\\n      }\\n    });\\n  };\\n\\n  // =========\\n  // Read many\\n  // =========\\n\\n  const readMany = (req, res) => {\\n    let query = res.locals.query || {};\\n\\n    Collection.find(query, (e, result) => {\\n      if (e) {\\n        res.status(500).send(e);\\n        console.log(e.message);\\n      } else {\\n        res.send(result);\\n      }\\n    });\\n  };\\n\\n  // ========\\n  // Read one\\n  // ========\\n  const readOne = (req, res, next) => {\\n    /* reqest.query \\uACBD\\uC6B0\\n          \\uC608: http://localhost:3001/reuse/control/:_id?ctrid=gggg\\n          \\uC608: http://localhost:3001/reuse/control/:1?ctrid=gggg\\n          req.param\\uC5D0 \\uC22B\\uC790\\uAC00 \\uC788\\uB294 \\uACBD\\uC6B0 \\uC22B\\uC790\\uAC1C\\uB9CC \\uB9AC\\uD134 1=>1\\uAC1C\\n        */\\n    let { _id } = req.params;\\n    if (Object.keys(req.query).length > 0) {\\n      var query = Collection.find(req.query);\\n      if (typeof parseInt(_id) === \\\"number\\\") query = query.limit(parseInt(_id));\\n      query.exec(function (err, someValue) {\\n        if (err) return next(err);\\n        res.send(someValue);\\n      });\\n      return null;\\n    }\\n    /* request.param \\uACBD\\uC6B0\\n          \\uC608: http://localhost:3001/reuse/control/:_id\\n          control/:_id\\n        */\\n\\n    Collection.findById(_id, (e, result) => {\\n      if (e) {\\n        res.status(500).send(e);\\n        console.log(e.message);\\n      } else {\\n        //res.send(result);\\n        res.send(result);\\n      }\\n    });\\n  };\\n\\n  // ======\\n  // Update\\n  // ======\\n  const update = (req, res) => {\\n    const keycode = Object.keys(req.query);\\n    const changedEntry = req.body;\\n\\n    // ======\\n    // MultiUpdate: array\\uB85C batch update\\uCC98\\uB9AC\\n    // url\\uC740 \\\"/mutiupdate?id=\\\"\\uACFC \\uAC19\\uC774 \\uC804\\uC1A1\\n    // \\uD604\\uC7AC\\uB294 multiupdate\\uC2DC querystring 1\\uAC1C\\uB9CC \\uAC00\\uB2A5!!!!!!!!!! \\uC218\\uC815\\uD560\\uAC83\\n    // ======\\n    if (req.params._id == \\\"multiupdate\\\") {\\n      let bulk = Collection.collection.initializeUnorderedBulkOp();\\n      changedEntry.forEach((k, i) => {\\n        bulk\\n          .find({\\n            [keycode]: k[keycode],\\n          })\\n          .upsert()\\n          .update({ $set: k });\\n      });\\n\\n      bulk.execute((e, result) => {\\n        if (e) {\\n          res.status(500).send(e);\\n          console.log(e.message);\\n        } else {\\n          res.send(result);\\n        }\\n      });\\n      return false;\\n    }\\n\\n    //single update\\uC778 \\uACBD\\uC6B0\\n    let query = { _id: req.params._id };\\n    if (keycode.length > 0) {\\n      //querystring\\uC774 \\uC788\\uC744 \\uACBD\\uC6B0 query\\uB97C \\uB300\\uCCB4\\uD568\\n      //localhost:3001/menu/<req.param._id>?qrystring=value\\n      query = req.query;\\n    }\\n    Collection.update(query, { $set: changedEntry }, (e) => {\\n      if (e) res.sendStatus(500);\\n      else res.sendStatus(200);\\n    });\\n  };\\n\\n  // ======\\n  // Remove\\n  // ======\\n  const remove = (req, res) => {\\n    let query = { _id: req.params._id };\\n    //querystring\\uC774 \\uC788\\uC744 \\uACBD\\uC6B0 query\\uB97C \\uB300\\uCCB4\\uD568\\n    if (Object.keys(req.query).length > 0) {\\n      query = req.query;\\n    }\\n    Collection.deleteOne(query, (e) => {\\n      if (e) res.status(500).send(e);\\n      else res.sendStatus(200);\\n    });\\n  };\\n\\n  // ======\\n  // Routes\\n  // ======\\n  let router = express.Router();\\n  router.get(\\\"/\\\", readMany);\\n  router.get(\\\"/:_id\\\", readOne);\\n  router.post(\\\"/\\\", create);\\n  router.put(\\\"/:_id\\\", update);\\n  router.delete(\\\"/:_id\\\", remove);\\n  return router;\\n};\\n\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"mongodb","locale":"en","hrefLang":"en-US","originalPath":"/interests/mongodb","dateFormat":"MM/DD/YYYY"}},
    "staticQueryHashes": ["1239077767","2468095761","2744905544","3280999885"]}